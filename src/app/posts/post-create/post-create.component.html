<p>
  post-create works!
</p>
<mat-card>
  <mat-spinner *ngIf="isLoading"></mat-spinner>

  <!--template based approach-->
  <!--which means we let angular register forms and we define binding using ngmodel-->
  <!--Submit event calling save method-->
<!--<form (submit)="onSavePost(postForm)" #postForm="ngForm" *ngIf="!isLoading">-->
  <!--<mat-form-field>-->
    <!--&lt;!&ndash;<input type="text" matInput [(ngModel)] = "enteredTitle">&ndash;&gt;-->
    <!--<input-->
      <!--matInput-->
      <!--type="text"-->
      <!--name="title"-->
      <!--[ngModel]="post?.title"-->
      <!--required-->
      <!--minlength="3"-->
      <!--placeholder="Post Title"-->
    <!--#title="ngModel">-->
    <!--&lt;!&ndash;<mat-error *ngIf="postForm.getControl('title').invalid">Please enter a title</mat-error>&ndash;&gt;-->
    <!--<mat-error *ngIf="title.invalid">Please enter a title</mat-error>-->


  <!--</mat-form-field>-->
  <!--<div>-->
    <!--<button mat-stroked-button type="button" (click)="filePicker.click()"> Upload image</button>-->
    <!--<input type="file" #filePicker>-->
  <!--</div>-->

  <!--<mat-form-field>-->
    <!--&lt;!&ndash;<textarea rows="6" [value]="newPost" #postInput></textarea>&ndash;&gt;-->
    <!--&lt;!&ndash;TWO WAY BINDING&ndash;&gt;-->
    <!--&lt;!&ndash;<textarea rows="6" matInput [(ngModel)] = "enteredValue"></textarea>&ndash;&gt;-->
    <!--&lt;!&ndash;local reference for content using #content to be referenced inside the form at error messages&ndash;&gt;-->
    <!--<textarea-->
      <!--rows="4"-->
      <!--matInput-->
      <!--name="content"-->
      <!--[ngModel]="post?.content"-->
      <!--placeholder="Post Content"-->
      <!--required-->
    <!--#content="ngModel"></textarea>-->
    <!--<mat-error *ngIf="content.invalid">Please enter content</mat-error>-->

  <!--</mat-form-field>-->
  <!--<button-->
    <!--mat-raised-button color="primary" type="submit"> save post</button>-->
<!--</form>-->





  <!--reactive approach-->


  <form [formGroup]="form" (submit)="onSavePost()" *ngIf="!isLoading">
  <mat-form-field>
  <!--<input type="text" matInput [(ngModel)] = "enteredTitle">-->
  <input
  matInput
  type="text"
  formControlName="title"
  required
  minlength="3"
  placeholder="Post Title">
  <mat-error *ngIf="form.get('title').invalid"> please enter a post title </mat-error>

  </mat-form-field>
  <div>
  <button mat-stroked-button type="button" (click)="filePicker.click()"> Upload image</button>
  <input type="file" #filePicker (change)="onImagePicked($event)">
  </div>
    <!--image is not defined in the html code initially but its defined in the typescript code and we get the value from ts to html-->
  <div class="image-preview" *ngIf="imagePreview && imagePreview !== '' && !form.get('image').invalid">
    <img [src]="imagePreview" [alt]="form.value.title">
  </div>
  <mat-form-field>
  <!--<textarea rows="6" [value]="newPost" #postInput></textarea>-->
  <!--TWO WAY BINDING-->
  <!--<textarea rows="6" matInput [(ngModel)] = "enteredValue"></textarea>-->
  <!--local reference for content using #content to be referenced inside the form at error messages-->
  <textarea
  rows="4"
  matInput
  formControlName="content"
  placeholder="Post Content"
  ></textarea>
    <mat-error *ngIf="form.get('content').invalid"> please enter a post title </mat-error>


  </mat-form-field>
  <button
  mat-raised-button color="primary" type="submit"> save post</button>
  </form>





</mat-card>
<!--<p>{{newPost}}</p>-->
<!--<p>{{enteredValue}}</p>-->
